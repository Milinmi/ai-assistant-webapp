<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢–µ—Å—Ç –±–µ–≥—É—â–∏—Ö –æ–≥–æ–Ω—å–∫–æ–≤</title>
  <style>
    body {
      margin: 0;
      padding: 40px;
      background: #1a1a2e;
      color: white;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 30px;
    }
    
    h1 {
      margin: 0;
    }
    
    .controls {
      display: flex;
      gap: 15px;
    }
    
    button {
      padding: 12px 24px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.2s;
    }
    
    button:hover {
      transform: scale(1.05);
    }
    
    button:active {
      transform: scale(0.95);
    }
    
    .start {
      background: #00ff88;
      color: #1a1a2e;
    }
    
    .stop {
      background: #ff4444;
      color: white;
    }
    
    .faster {
      background: #ffa500;
      color: white;
    }
    
    .slower {
      background: #4488ff;
      color: white;
    }
    
    #info {
      background: rgba(255, 255, 255, 0.1);
      padding: 15px 25px;
      border-radius: 10px;
      font-family: monospace;
      font-size: 14px;
    }
    
    #svgContainer {
      background: rgba(255, 255, 255, 0.05);
      padding: 30px;
      border-radius: 15px;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }
  </style>
  
  <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.0/dist/svg.min.js"></script>
</head>
<body>
  <h1>üî• –¢–µ—Å—Ç –±–µ–≥—É—â–∏—Ö –æ–≥–æ–Ω—å–∫–æ–≤</h1>
  
  <div class="controls">
    <button class="start" onclick="startAnimation()">‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç</button>
    <button class="stop" onclick="stopAnimation()">‚èπÔ∏è –°—Ç–æ–ø</button>
    <button class="faster" onclick="changeSpeed(-20)">‚ö° –ë—ã—Å—Ç—Ä–µ–µ</button>
    <button class="slower" onclick="changeSpeed(20)">üêå –ú–µ–¥–ª–µ–Ω–Ω–µ–µ</button>
  </div>
  
  <div id="info">
    <div>–°–∫–æ—Ä–æ—Å—Ç—å: <span id="speedValue">100</span> –º—Å</div>
    <div>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ LED: <span id="ledCount">7</span></div>
    <div>–†–∞–∑–º–µ—Ä LED: <span id="ledSize">10</span> px</div>
    <div>–°—Ç–∞—Ç—É—Å: <span id="status">–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ</span></div>
  </div>
  
  <div id="svgContainer"></div>

  <script>
    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
    let speed = 100;
    let ledCount = 7;
    let ledSize = 10;
    let spacing = 15;
    let trailLength = 3;
    
    // SVG –∏ LED —ç–ª–µ–º–µ–Ω—Ç—ã
    let svg;
    let leds = [];
    
    // –ê–Ω–∏–º–∞—Ü–∏—è
    let isRunning = false;
    let currentIndex = 0;
    let intervalId = null;
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    function init() {
      // –°–æ–∑–¥–∞—ë–º SVG
      svg = SVG().addTo('#svgContainer').size(400, 100);
      
      // –°–æ–∑–¥–∞—ë–º –ª–∏–Ω–∏—é (–≤–∏–∑—É–∞–ª—å–Ω–∞—è –Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∞—è)
      svg.line(50, 50, 350, 50)
        .stroke({ color: '#444', width: 2, dasharray: '5,5' });
      
      // –°–æ–∑–¥–∞—ë–º LED –æ–≥–æ–Ω—å–∫–∏
      const startX = 50;
      const y = 50;
      
      for (let i = 0; i < ledCount; i++) {
        const x = startX + i * spacing;
        
        const led = svg.circle(ledSize)
          .center(x, y)
          .fill('#ff4500')  // –Ø—Ä–∫–∏–π –æ—Ä–∞–Ω–∂–µ–≤–æ-–∫—Ä–∞—Å–Ω—ã–π
          .stroke({ color: '#ff6600', width: 3 })  // Glow —ç—Ñ—Ñ–µ–∫—Ç
          .opacity(0);  // –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤—ã–∫–ª—é—á–µ–Ω—ã
        
        leds.push(led);
      }
      
      console.log('‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
      updateInfo();
    }
    
    // –°—Ç–∞—Ä—Ç –∞–Ω–∏–º–∞—Ü–∏–∏
    function startAnimation() {
      if (isRunning) {
        console.log('‚ö†Ô∏è –ê–Ω–∏–º–∞—Ü–∏—è —É–∂–µ –∑–∞–ø—É—â–µ–Ω–∞');
        return;
      }
      
      console.log('‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç –∞–Ω–∏–º–∞—Ü–∏–∏');
      isRunning = true;
      currentIndex = 0;
      
      updateStatus('—Ä–∞–±–æ—Ç–∞–µ—Ç üî•');
      
      intervalId = setInterval(() => {
        updateLEDs();
      }, speed);
    }
    
    // –°—Ç–æ–ø –∞–Ω–∏–º–∞—Ü–∏–∏
    function stopAnimation() {
      if (!isRunning) {
        return;
      }
      
      console.log('‚èπÔ∏è –°—Ç–æ–ø –∞–Ω–∏–º–∞—Ü–∏–∏');
      isRunning = false;
      
      if (intervalId) {
        clearInterval(intervalId);
        intervalId = null;
      }
      
      // –ì–∞—Å–∏–º –≤—Å–µ LED
      leds.forEach(led => led.opacity(0));
      
      updateStatus('–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
    }
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ LED (–±–µ–≥—É—â–∏–µ –æ–≥–Ω–∏)
    function updateLEDs() {
      // –ì–∞—Å–∏–º –≤—Å–µ LED
      leds.forEach(led => {
        led.opacity(0);
      });
      
      // –ó–∞–∂–∏–≥–∞–µ–º —Ç–µ–∫—É—â–∏–π LED –∏ "—Ö–≤–æ—Å—Ç"
      for (let i = 0; i < trailLength; i++) {
        const index = (currentIndex - i + leds.length) % leds.length;
        const brightness = 1.0 - (i / trailLength) * 0.6;
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
        leds[index].opacity(brightness);
        
        // Glow —ç—Ñ—Ñ–µ–∫—Ç
        leds[index].attr({
          'stroke-width': brightness * 4,
          'stroke-opacity': brightness * 0.9
        });
      }
      
      // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É LED
      currentIndex = (currentIndex + 1) % leds.length;
    }
    
    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
    function changeSpeed(delta) {
      speed = Math.max(20, Math.min(500, speed + delta));
      updateInfo();
      
      // –ï—Å–ª–∏ –∞–Ω–∏–º–∞—Ü–∏—è –∏–¥—ë—Ç - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å –Ω–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é
      if (isRunning) {
        stopAnimation();
        setTimeout(() => startAnimation(), 50);
      }
    }
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
    function updateInfo() {
      document.getElementById('speedValue').textContent = speed;
      document.getElementById('ledCount').textContent = ledCount;
      document.getElementById('ledSize').textContent = ledSize;
    }
    
    function updateStatus(status) {
      document.getElementById('status').textContent = status;
    }
    
    // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    window.onload = init;
  </script>
</body>
</html>